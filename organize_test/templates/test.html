{% extends "screening.html" %}

{% block title %}Organize Test{% endblock %}

{% block content %}
<div class="bg-white rounded-2xl shadow-lg">
    <div class="flex flex-col gap-2 p-6 bg-blue-800 rounded-b rounded-2xl">
        <p class='flex gap-3 items-center text-white text-3xl font-semibold'>
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-notepad-text-icon lucide-notepad-text"><path d="M8 2v4"/><path d="M12 2v4"/><path d="M16 2v4"/><rect width="16" height="18" x="4" y="4" rx="2"/><path d="M8 10h6"/><path d="M8 14h8"/><path d="M8 18h5"/></svg>
            Test Organization Dashboard
        </p>
        <p class='text-stone-200 text-sm'>Manage tests, questions, and candidate assignments</p>
    </div>
    <div class="flex flex-wrap gap-6 justify-between h-fit w-full py-9 px-12 bg-blue-50 rounded-2xl">
        <div class="flex flex-col gap-3 h-[15vh] w-[31%] p-6 bg-white rounded-xl shadow-md">
            <p class='text-stone-500'>Total Tests Created</p>
            <p class='text-3xl text-stone-700 font-semibold'>2</p>
        </div>
        <div class="flex flex-col gap-3 h-[15vh] w-[31%] p-6 bg-white rounded-xl shadow-md">
            <p class='text-stone-500'>Active Tests</p>
            <p class='text-3xl text-stone-700 font-semibold'>3</p>
        </div>
        <div class="flex flex-col gap-3 h-[15vh] w-[31%] p-6 bg-white rounded-xl shadow-md">
            <p class='text-stone-500'>Assigned Candidates</p>
            <p class='text-3xl text-stone-700 font-semibold'>12</p>
        </div>
        <div class="flex flex-col gap-3 h-[15vh] w-[31%] p-6 bg-white rounded-xl shadow-md">
            <p class='text-stone-500'>Pending Reviews</p>
            <p class='text-3xl text-stone-700 font-semibold'>3</p>
        </div>
    </div>
</div>
<div class="min-h-[50vh] w-full p-9 mt-9 bg-white rounded-2xl shadow-lg">
    <div class="flex gap-12 text-lg text-stone-500 border-b border-stone-300">
        <button class='tab px-4 py-2 border-b-2 text-blue-600 border-blue-600 font-semibold hover:text-blue-600 transition' onclick='switchTab("create-test")'>Create Test</button>
        <button class='tab px-4 py-2 border-b-2 border-transparent hover:text-blue-600 transition' onclick='switchTab("questions")'>Question Bank</button>
        <button class='tab px-4 py-2 border-b-2 border-transparent hover:text-blue-600 transition' onclick='switchTab("assign")'>Assign to Candidates</button>
        <button class='tab px-4 py-2 border-b-2 border-transparent hover:text-blue-600 transition' onclick='switchTab("results")'>View Results</button>
    </div>
    <div id='create-test' class="tab-content">
        <div class="card mt-6">
            <p class='flex gap-3 text-2xl text-stone-700 font-semibold'>
                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-notebook-pen-icon lucide-notebook-pen"><path d="M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4"/><path d="M2 6h4"/><path d="M2 10h4"/><path d="M2 14h4"/><path d="M2 18h4"/><path d="M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z"/></svg>
                Create New Test
            </p>
            <form method='post' action="" class='mt-6'>
                {% csrf_token %}
                <div class="flex flex-col gap-6">
                    <div class="flex flex-col gap-2">
                        <p class='text-stone-500 font-semibold'>Test Title</p>
                        <input type="text" name="title" id="" placeholder="e.g., Python Developer Assessment" class='w-full py-2 px-3 placeholder:text-stone-500 border border-stone-200 rounded-lg'>
                    </div>
                    <div class="flex gap-4">
                        <div class="flex flex-col gap-2 w-1/2">
                            <p class='text-stone-500 font-semibold'>Position</p>
                            <select name="" id="" class='py-2 px-3 w-full border border-stone-200 rounded-lg'>
                                <option value="" selected>Select Position</option>
                                <option value="">Python Developer</option>
                                <option value="">Frontend Developer</option>
                                <option value="">Full Stack Developer</option>
                                <option value="">Data Analyst</option>
                            </select>
                        </div>
                        <div class="flex flex-col gap-2 w-1/2">
                            <p class='text-stone-500 font-semibold'>Difficulty Level</p>
                            <select name="" id="" class='py-2 px-3 w-full border border-stone-200 rounded-lg'>
                                <option value="" selected>Select Difficulty</option>
                                <option value="">Easy</option>
                                <option value="">Medium</option>
                                <option value="">Hard</option>
                            </select>
                        </div>
                    </div>
                    <div class="flex gap-4">
                        <div class="flex flex-col gap-2 w-1/2">
                            <p class='text-stone-500 font-semibold'>Duration (minutes)</p>
                            <input type="number" name="" id="" placeholder='60' class='py-2 px-3 border border-stone-200 placeholder:text-stone-500 rounded-lg'>
                        </div>
                        <div class="flex flex-col gap-2 w-1/2">
                            <p class='text-stone-500 font-semibold'>Passing Score (%)</p>
                            <input type="number" name="" id="" placeholder='70' class='py-2 px-3 border border-stone-200 placeholder:text-stone-500 rounded-lg'>
                        </div>
                    </div>
                    <div class="flex flex-col gap-2">
                        <p class='text-stone-500 font-semibold'>Test Description</p>
                        <textarea id="" placeholder="Enter test instructions and description..." class='w-full py-2 px-3 border border-stone-200 rounded-lg placeholder:text-stone-500'></textarea>
                    </div>
                    <div class="flex flex-col gap-2">
                        <p class='text-stone-500 font-semibold'>Test Type</p>
                        <div class="flex gap-6 text-stone-800">
                            <div class="flex gap-2">
                                <input type="checkbox" name="mcq" id=""> MCQ
                            </div>
                            <div class="flex gap-2">
                                <input type="checkbox" name="coding" id=""> Coding
                            </div>
                            <div class="flex gap-2">
                                <input type="checkbox" name="descriptive" id=""> Descriptive
                            </div>
                        </div>
                    </div>
                    <input type="submit" value="Create Test" class='px-6 py-2 w-fit text-stone-100 bg-blue-800 rounded-lg'>
                </div>
            </form>
        </div>
    </div>
    <div id='questions' class="tab-content hidden">
        <div class="card flex justify-between items-center mt-6">
            <p class='flex gap-3 text-2xl text-stone-700 font-semibold'>
                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#ff0000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-file-question-mark-icon lucide-file-question-mark"><path d="M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z"/><path d="M12 17h.01"/><path d="M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3"/></svg>
                Question Bank
            </p>
            <a href="#" class='text-stone-100 px-4 py-2 bg-blue-800 rounded-lg'>+ Add New Question</a>
        </div>
        <div class="flex justify-center items-center h-[30vh]">
            <p class='text-stone-400'>Question Bank is Empty.</p>
        </div>
    </div>
    <div id='assign' class="tab-content hidden">
        <div class="card mt-6">
            <p class='text-2xl text-stone-700 font-semibold'>Assign Test To Candidates</p>
        </div>
    </div>
    <div id='results' class="tab-content hidden">
        <div class="card mt-6">
            <p class='text-2xl text-stone-700 font-semibold'>Test Results</p>
        </div>
    </div>
</div>


<script>
    function switchTab(tabName){
        const contents = document.querySelectorAll('.tab-content');
        contents.forEach(content => content.classList.add('hidden'));
        
        const tabs = document.querySelectorAll('.tab');
        tabs.forEach(tab => {
            tab.classList.remove('text-blue-600', 'border-blue-600', 'font-semibold');
            tab.classList.add('border-transparent');
        });
        
        document.getElementById(tabName).classList.remove('hidden');
        
        event.target.classList.add('text-blue-600', 'border-blue-600', 'font-semibold');
        event.target.classList.remove('border-transparent');
    }
</script>

{% endblock %}